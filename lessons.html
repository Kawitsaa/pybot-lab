<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Lessons • PyBot Lab</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500&display=swap');
    *{box-sizing:border-box;font-family:"Mitr",system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai",sans-serif}
    :root{--red:#E34B4B;--ink:#444;--muted:#f6f7f9;--border:#e7e7ea;--shadow:0 10px 25px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.05)}
    body{margin:0;background:#fff;color:var(--ink)} b,strong,h1,h2,h3,h4,h5,h6{font-weight:400}

    /* ===== TOPBAR (GitHub Pages) ===== */
    .topbar{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--border);z-index:10}
    .bar{display:flex;gap:12px;align-items:center;min-height:64px;padding:10px 0}
    .container{width:min(1100px,92%);margin:0 auto}
    .brand img{height:56px;width:auto;display:block}
    @media (max-width:600px){ .brand img{height:44px} }
    nav{margin-left:auto;display:flex;gap:6px;flex-wrap:wrap}
    nav a{padding:8px 12px;border-radius:10px;text-decoration:none;color:#555;border:1px solid transparent}
    nav a:hover{background:var(--muted)}
    nav a.active{background:var(--muted);color:#222}
    nav a.cta{background:var(--red);color:#fff}
    nav a.cta.active{outline:2px solid rgba(227,75,75,.25)}

    main{padding:22px 0 40px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{border:1px solid var(--border);border-radius:16px;overflow:hidden;background:#fff;box-shadow:var(--shadow)}
    .thumb{position:relative;aspect-ratio:16/9;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .title{padding:12px 14px;border-top:1px solid var(--border)}
    .title .t1{font-size:18px;color:#222}
    .title .t2{font-size:14px;color:#666;margin-top:2px}
    .actions{display:flex;gap:8px;flex-wrap:wrap;padding:12px 14px;border-top:1px solid var(--border)}
    .btn{border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px 14px;cursor:pointer}
    .btn.primary{background:var(--red);color:#fff;border-color:transparent}
    .section{display:none;border-top:1px solid var(--border);padding:12px 14px;background:#fff}

    .vwrap{aspect-ratio:16/9;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#000}
    .vwrap iframe{width:100%;height:100%;border:0;display:block}

    .formwrap{border:1px solid var(--border);border-radius:12px;overflow:hidden}
    .formwrap iframe{width:100%;height:640px;border:0}
    .note{font-size:13px;color:#666;margin-top:6px}
  </style>
</head>
<body>

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="container">
      <div class="bar">
        <a class="brand" href="./index.html" aria-label="Home">
          <img src="https://github.com/Kawitsaa/pybot-lab/blob/main/Logo%20PyBot%20Lab.jpg?raw=true" alt="PyBot Lab Logo">
        </a>
        <nav>
          <a href="./index.html" class="link" data-page="index">Home</a>
          <a href="./lessons.html" class="link" data-page="lessons">Lessons</a>
          <a href="./programming.html" class="link cta" data-page="programming">Programming</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid">

      <!-- ===== บทที่ 1 ===== -->
      <article class="card" id="lesson1">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L1.jpg?raw=true" alt="บทที่ 1 Decomposition"></div>
        <div class="title"><div class="t1">บทที่ 1 · Decomposition</div><div class="t2">แยกปัญหาออกเป็นส่วนย่อย ๆ เพื่อแก้ทีละส่วน</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(1)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(1)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video1">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 1"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz1">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

      <!-- ===== บทที่ 2 ===== -->
      <article class="card" id="lesson2">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L2.jpg?raw=true" alt="บทที่ 2 Pattern Recognition"></div>
        <div class="title"><div class="t1">บทที่ 2 · Pattern Recognition</div><div class="t2">สังเกตรูปแบบ/ความคล้ายคลึงเพื่อแก้ปัญหาเร็วขึ้น</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(2)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(2)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video2">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 2"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz2">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

      <!-- ===== บทที่ 3 ===== -->
      <article class="card" id="lesson3">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L3.jpg?raw=true" alt="บทที่ 3 Abstraction"></div>
        <div class="title"><div class="t1">บทที่ 3 · Abstraction</div><div class="t2">โฟกัสที่แก่นและข้อมูลสำคัญ ตัดสิ่งรบกวนออก</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(3)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(3)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video3">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 3"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz3">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

      <!-- ===== บทที่ 4 ===== -->
      <article class="card" id="lesson4">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L4.jpg?raw=true" alt="บทที่ 4 Algorithm Design"></div>
        <div class="title"><div class="t1">บทที่ 4 · Algorithm Design</div><div class="t2">ออกแบบขั้นตอนวิธีที่เป็นระบบและทำซ้ำได้</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(4)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(4)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video4">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 4"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz4">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

      <!-- ===== บทที่ 5 ===== -->
      <article class="card" id="lesson5">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L5.jpg?raw=true" alt="บทที่ 5 Basic Python for Robot Programming"></div>
        <div class="title"><div class="t1">บทที่ 5 · Basic Python for Robot Programming</div><div class="t2">พื้นฐาน Python ที่ใช้จริงกับหุ่นยนต์</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(5)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(5)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video5">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 5"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz5">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

      <!-- ===== บทที่ 6 ===== -->
      <article class="card" id="lesson6">
        <div class="thumb"><img loading="lazy" src="https://github.com/Kawitsaa/pybot-lab/blob/main/L6.jpg?raw=true" alt="บทที่ 6 Programming robots with mBlock in mBot2"></div>
        <div class="title"><div class="t1">บทที่ 6 · Programming robots with mBlock in mBot2</div><div class="t2">การโปรแกรมหุ่นยนต์ด้วย mBlock ใน mBot2</div></div>
        <div class="actions">
          <button class="btn" data-kind="video" onclick="toggleVideo(6)">ดูวิดีโอ</button>
          <button class="btn" data-kind="quiz" onclick="openQuiz(6)">ทำแบบทดสอบ</button>
        </div>
        <div class="section" id="video6">
          <div class="vwrap">
            <iframe loading="lazy"
              src="https://www.youtube.com/embed/bGFqK789KFg"
              title="Lesson 6"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
          <div class="note">หลังดูจบสามารถกด “ทำแบบทดสอบ” ด้านบนได้</div>
        </div>
        <div class="section" id="quiz6">
          <div class="formwrap">
            <iframe loading="lazy" src="https://docs.google.com/forms/d/e/1FAIpQLSeVjpVJ0ZOptKxroYj-iDP0tkP66ucHf_H7OxO6LwZd5CRSAg/viewform?embedded=true">Loading…</iframe>
          </div>
        </div>
      </article>

    </div>
  </main>

  <script>
    // ✅ Active menu auto
    (function(){
      const path = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
      const page =
        path.includes('lessons') ? 'lessons' :
        path.includes('programming') ? 'programming' :
        'index';
      document.querySelectorAll('nav .link').forEach(a=>{
        a.classList.toggle('active', a.dataset.page === page);
      });
    })();

    const $id = (s)=>document.getElementById(s);

    function setActiveButtons(n, kind){
      for(let i=1;i<=6;i++){
        const vBtn = document.querySelector(`#lesson${i} .actions .btn[data-kind="video"]`);
        const qBtn = document.querySelector(`#lesson${i} .actions .btn[data-kind="quiz"]`);
        if(vBtn) vBtn.classList.toggle('primary', i===n && kind==='video');
        if(qBtn) qBtn.classList.toggle('primary', i===n && kind==='quiz');
      }
    }

    function hideAll(){
      for(let i=1;i<=6;i++){
        const v = $id(`video${i}`);
        const q = $id(`quiz${i}`);
        if(v) v.style.display='none';
        if(q) q.style.display='none';
      }
    }

    function toggleVideo(n){
      const el = $id(`video${n}`);
      const willShow = el && (el.style.display!=='block');
      hideAll();
      if(willShow){ el.style.display='block'; setActiveButtons(n,'video'); }
      else{ setActiveButtons(-1,''); }
    }

    function openQuiz(n){
      hideAll();
      const q = $id(`quiz${n}`); if(q) q.style.display='block';
      setActiveButtons(n,'quiz');
      try{
        const key='pybot_progress';
        const p = JSON.parse(localStorage.getItem(key) || '{}');
        p['l'+n] = true;
        localStorage.setItem(key, JSON.stringify(p));
      }catch(e){}
    }

    // Deep-link: ?lesson=5&mode=quiz
    (function deepLink(){
      const sp = new URLSearchParams(location.search);
      const lesson = +sp.get('lesson');
      const mode = (sp.get('mode')||'video').toLowerCase();
      if(lesson>=1 && lesson<=6){
        if(mode==='quiz') openQuiz(lesson); else toggleVideo(lesson);
        document.getElementById('lesson'+lesson)?.scrollIntoView({behavior:'smooth', block:'start'});
      }
    })();
  </script>
</body>
</html>
